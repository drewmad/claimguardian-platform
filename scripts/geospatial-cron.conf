# ClaimGuardian Geospatial Data Sync Cron Configuration
#
# Installation:
# 1. Copy this file to /etc/cron.d/claimguardian-geospatial
# 2. Ensure script paths are absolute
# 3. Set proper permissions: chmod 644 /etc/cron.d/claimguardian-geospatial
#
# Or add to user crontab with: crontab -e

# Environment variables (adjust paths as needed)
SHELL=/bin/bash
PATH=/usr/local/bin:/usr/bin:/bin
MAILTO=admin@claimguardian.com

# Real-time sync - Every 15 minutes for active events
*/15 * * * * cd /home/claimguardian/app && ./scripts/geospatial-sync-workflow.sh realtime

# Daily sync - Every day at 2 AM for hazard zones and risk assessments
0 2 * * * cd /home/claimguardian/app && ./scripts/geospatial-sync-workflow.sh daily

# Weekly sync - Every Sunday at 3 AM for infrastructure and full pipeline
0 3 * * 0 cd /home/claimguardian/app && ./scripts/geospatial-sync-workflow.sh weekly

# Monthly sync - First day of month at 4 AM for parcel data
0 4 1 * * cd /home/claimguardian/app && ./scripts/geospatial-sync-workflow.sh monthly

# Alternative: Using systemd timers (recommended for production)
# Create these files in /etc/systemd/system/

# === claimguardian-geospatial-realtime.timer ===
# [Unit]
# Description=ClaimGuardian Geospatial Real-time Sync
#
# [Timer]
# OnCalendar=*:0/15
# Persistent=true
#
# [Install]
# WantedBy=timers.target

# === claimguardian-geospatial-realtime.service ===
# [Unit]
# Description=ClaimGuardian Geospatial Real-time Sync
# After=network.target postgresql.service
#
# [Service]
# Type=oneshot
# User=claimguardian
# WorkingDirectory=/home/claimguardian/app
# ExecStart=/home/claimguardian/app/scripts/geospatial-sync-workflow.sh realtime
# StandardOutput=journal
# StandardError=journal

# Enable with:
# systemctl enable claimguardian-geospatial-realtime.timer
# systemctl start claimguardian-geospatial-realtime.timer
